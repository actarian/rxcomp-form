{"version":3,"sources":["docs/js/main.js","../../src/form/directives/form-placeholder.directive.js","../../src/form/directives/form-submit.directive.js","../../src/form/directives/form-value.directive.js","../../src/form/models/form-status.js","../../src/form/form-array.component.js","../../src/form/form-control-group.component.js","../../src/form/form-control.directive.js","../../src/form/form-group.component.js","../../src/form.module.js","../../src/form/form-abstract.js","../../src/form/form-control.js","../../src/form/form-abstract-collection.js","../../src/form/form-array.js","../../src/form/form-group.js","../../src/form/validators/required.validator.js","../../test/js/app.component.js","../../test/js/app.module.js","../../test/js/main.js"],"names":["global","factory","exports","module","require","define","amd","self","rxcomp","rxjs","operators","this","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","__proto__","FormPlaceholderDirective","_Directive","apply","arguments","onChanges","changes","getContext","node","placeholder","console","log","Directive","meta","selector","inputs","FormSubmitDirective","onInit","_getContext","parentInstance","event","replace","event$","fromEvent","pipe","tap","preventDefault","shareReplay","expression","getAttribute","outputFunction","makeFunction","takeUntil","unsubscribe$","subscribe","resolve","FormValueDirective","value","FormStatus","Pending","Valid","Invalid","Disabled","FormAttributes","FormArrayComponent","_Component","form","forEach","x","classList","add","remove","get","formArray","formArrayName","Component","FormControlGroupComponent","control","controlGroup","controlGroupName","FormControlDirective","_proto","onChange","bind","onBlur","addEventListener","writeValue","setDisabledState","disabled","onFocus","touched","getPre","pre","previousSibling","nodeType","document","createTextNode","parentNode","insertBefore","formControl","formControlName","FormGroupComponent","formGroup","formGroupName","FormModule","_Module","Module","factories","pipes","declarations","concat","FormAbstract","validators","status","errors","initSubjects_","valueSubject","BehaviorSubject","valueChildren","Subject","statusSubject","statusChildren","initObservables_","_this","value$","merge","distinctUntilChanged","skip","any","submitted_","dirty_","next","status$","reduceValidators_","changes$","map","validate","filter","reset","value_","touched_","patch","set","submitted","FormControl","_FormAbstract","call","ReferenceError","_assertThisInitialized","FormAbstractCollection","controls","initControls_","initControl_","_this2","forEach_","init","changesChildren","switchAll","switchSubjects_","reduce_","result","push","combineLatest","_this3","callback","_this4","keys","all_","any_","_this5","find","removeKey","changed","undefined","FormArray","_FormAbstractCollecti","Math","max","splice","insert","indexOf","at","FormGroup","RequiredValidator","AppComponent","firstName","lastName","email","country","items","valid","pushChanges","onValidate","onSubmit","AppModule","imports","CoreModule","bootstrap","Browser"],"mappings":"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","file":"docs/js/main.min.js","sourcesContent":[null,"import { Directive, getContext } from 'rxcomp';\n\nexport default class FormPlaceholderDirective extends Directive {\n\n\tonChanges(changes) {\n\t\tconst { node } = getContext(this);\n\t\tnode.placeholder = this.placeholder;\n\t\tconsole.log(this.placeholder);\n\t}\n\n}\n\nFormPlaceholderDirective.meta = {\n\tselector: 'input[placeholder], input[[placeholder]], textarea[placeholder], textarea[[placeholder]]',\n\tinputs: ['placeholder'],\n};\n","import { Directive, getContext } from 'rxcomp';\nimport { fromEvent } from 'rxjs';\nimport { shareReplay, takeUntil, tap } from 'rxjs/operators';\n\nexport default class FormSubmitDirective extends Directive {\n\n\tonInit() {\n\t\tconst { module, node, selector, parentInstance } = getContext(this);\n\t\tconst event = this.event = selector.replace(/\\[|\\]|\\(|\\)/g, '');\n\t\tconst event$ = this.event$ = fromEvent(node, event).pipe(\n\t\t\ttap(event => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// console.log('event');\n\t\t\t}),\n\t\t\tshareReplay(1)\n\t\t);\n\t\tconst expression = node.getAttribute(`(${event})`);\n\t\tif (expression) {\n\t\t\tconst outputFunction = module.makeFunction(expression, ['$event']);\n\t\t\tevent$.pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe(event => {\n\t\t\t\tmodule.resolve(outputFunction, parentInstance, event);\n\t\t\t});\n\t\t} else {\n\t\t\tparentInstance[`${event}$`] = event$;\n\t\t}\n\t\t// console.log('parentInstance', parentInstance);\n\t\t// console.log('EventDirective.onInit', 'selector', selector, 'event', event);\n\t}\n\n}\n\nFormSubmitDirective.meta = {\n\tselector: `[(submit)]`,\n};\n","import { Directive, getContext } from 'rxcomp';\n\nexport default class FormValueDirective extends Directive {\n\n\tonChanges(changes) {\n\t\tconst { node } = getContext(this);\n\t\tnode.value = this.value;\n\t\tconsole.log(this.value);\n\t}\n\n}\n\nFormValueDirective.meta = {\n\tselector: 'input[value], input[[value]], textarea[value], textarea[[value]]',\n\tinputs: ['value'],\n};\n","const FormStatus = {\n\tPending: 'pending',\n\tValid: 'valid',\n\tInvalid: 'invalid',\n\tDisabled: 'disabled',\n};\n\nexport default FormStatus;\n\nexport const FormAttributes = ['untouched', 'touched', 'pristine', 'dirty', 'pending', 'enabled', 'disabled', 'valid', 'invalid', 'submitted'];\n","import { Component, getContext } from 'rxcomp';\nimport { FormAttributes } from './models/form-status';\n\nexport default class FormArrayComponent extends Component {\n\n\tget form() {\n\t\t// console.log('FormArrayComponent', (this.formArrayName ? `formArrayName ${this.formArrayName}` : `formArray ${this.formArray}`));\n\t\tif (this.formArray) {\n\t\t\treturn this.formArray;\n\t\t} else {\n\t\t\tconst { parentInstance } = getContext(this);\n\t\t\tif (!parentInstance.form) {\n\t\t\t\tthrow ('missing form');\n\t\t\t}\n\t\t\treturn parentInstance.form.get(this.formArrayName);\n\t\t}\n\t}\n\n\tonChanges(changes) {\n\t\tconst { node } = getContext(this);\n\t\tconst form = this.form;\n\t\tFormAttributes.forEach(x => {\n\t\t\tif (form[x]) {\n\t\t\t\tnode.classList.add(x);\n\t\t\t} else {\n\t\t\t\tnode.classList.remove(x);\n\t\t\t}\n\t\t});\n\t}\n\n}\n\nFormArrayComponent.meta = {\n\tselector: '[[formArray]],[[formArrayName]],[formArrayName]',\n\tinputs: ['formArray', 'formArrayName'],\n};\n","import { Component, getContext } from 'rxcomp';\nimport { FormAttributes } from './models/form-status';\n\nexport default class FormControlGroupComponent extends Component {\n\n\tget control() {\n\t\t// console.log('FormControlGroupComponent', (this.controlGroupName ? `controlGroupName ${this.controlGroupName}` : `controlGroup ${this.controlGroup}`));\n\t\tif (this.controlGroup) {\n\t\t\treturn this.controlGroup;\n\t\t} else {\n\t\t\tconst { parentInstance } = getContext(this);\n\t\t\tif (!parentInstance.form) {\n\t\t\t\tthrow ('missing form');\n\t\t\t}\n\t\t\treturn parentInstance.form.get(this.controlGroupName);\n\t\t}\n\t}\n\n\tonChanges(changes) {\n\t\tconst { node } = getContext(this);\n\t\tconst control = this.control;\n\t\tFormAttributes.forEach(x => {\n\t\t\tif (control[x]) {\n\t\t\t\tnode.classList.add(x);\n\t\t\t} else {\n\t\t\t\tnode.classList.remove(x);\n\t\t\t}\n\t\t});\n\t}\n\n}\n\nFormControlGroupComponent.meta = {\n\tselector: '[[controlGroup]],[[controlGroupName]],[controlGroupName]',\n\tinputs: ['controlGroup', 'controlGroupName'],\n};\n","import { Directive, getContext } from 'rxcomp';\nimport { FormAttributes } from './models/form-status';\n\nexport default class FormControlDirective extends Directive {\n\n\tget control() {\n\t\tif (this.formControl) {\n\t\t\treturn this.formControl;\n\t\t} else {\n\t\t\tconst { parentInstance } = getContext(this);\n\t\t\tif (!parentInstance.form) {\n\t\t\t\tthrow ('missing form');\n\t\t\t}\n\t\t\treturn parentInstance.form.get(this.formControlName);\n\t\t}\n\t}\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tthis.node = node;\n\t\t// log(node.getAttributeNode('formControl').value);\n\t\t// log('name', node.name);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.onBlur = this.onBlur.bind(this);\n\t\t// this.onFocus = this.onFocus.bind(this);\n\t\tnode.addEventListener('input', this.onChange);\n\t\tnode.addEventListener('change', this.onChange);\n\t\tnode.addEventListener('blur', this.onBlur);\n\t\t// node.addEventListener('focus', this.onFocus);\n\t}\n\n\tonChanges(changes) {\n\t\tconst { node } = getContext(this);\n\t\t/*\n\t\tconst pre = this.getPre(node);\n\t\tpre.textContent = '';\n\t\t*/\n\t\tconst control = this.control;\n\t\tFormAttributes.forEach(x => {\n\t\t\tif (control[x]) {\n\t\t\t\tnode.classList.add(x);\n\t\t\t\t// pre.textContent += x + ', ';\n\t\t\t} else {\n\t\t\t\tnode.classList.remove(x);\n\t\t\t}\n\t\t});\n\t\t// control.errors.forEach(x => pre.textContent += `invalid-${x}, `);\n\t\tthis.writeValue(control.value);\n\t}\n\n\twriteValue(value) {\n\t\tconst { node } = getContext(this);\n\t\t// node.setAttribute('value', value == null ? '' : value);\n\t\tnode.value = value == null ? '' : value;\n\t\t// console.log(node, node.getAttribute('value'));\n\t}\n\n\tsetDisabledState(disabled) {\n\t\tconst { node } = getContext(this);\n\t\tnode.disabled = disabled;\n\t\t// node.setAttribute('disabled', disabled);\n\t}\n\n\tonChange(event) {\n\t\tconst { node } = getContext(this);\n\t\t// log(event.type);\n\t\tthis.control.value = node.value;\n\t}\n\n\tonFocus(event) {}\n\n\tonBlur(event) {\n\t\t// log(event.type);\n\t\tthis.control.touched = true;\n\t}\n\n\tgetPre(node) {\n\t\tlet pre = node.previousSibling;\n\t\tif (!pre || pre.nodeType !== 3) {\n\t\t\tpre = document.createTextNode('');\n\t\t\tnode.parentNode.insertBefore(pre, node);\n\t\t}\n\t\treturn pre;\n\t}\n\n}\n\nFormControlDirective.meta = {\n\tselector: 'input,textarea,select',\n\tinputs: ['formControl', 'formControlName'],\n};\n\n/*\n\nLEGACY\nbutton: \t\tA push button with no default behavior.\ncheckbox: \t\tA check box allowing single values to be selected/deselected.\nfile: \t\t\tA control that lets the user select a file. Use the accept attribute to define the types of files that the control can select.\nhidden: \t\tA control that is not displayed but whose value is submitted to the server.\nimage: \t\t\tA graphical submit button. You must use the src attribute to define the source of the image and the alt attribute to define alternative text. You can use the height and width attributes to define the size of the image in pixels.\npassword: \t\tA single-line text field whose value is obscured. Use the maxlength and minlength attributes to specify the maximum length of the value that can be entered.\n\t\t\t\tNote: Any forms involving sensitive information like passwords (e.g. login forms) should be served over HTTPS;\n\t\t\t\tFirefox now implements multiple mechanisms to warn against insecure login forms — see Insecure passwords.\n\t\t\t\tOther browsers are also implementing similar mechanisms.\n\nradio: \t\t\tA radio button, allowing a single value to be selected out of multiple choices.\nreset: \t\t\tA button that resets the contents of the form to default values.\nsubmit: \t\tA button that submits the form.\ntext: \t\t\tA single-line text field. Line-breaks are automatically removed from the input value.\n\nHTML5\ncolor: \t\t\t(ie) A control for specifying a color. A color picker's UI has no required features other than accepting simple colors as text (more info).\ndate: \t\t\t(ie) A control for entering a date (year, month, and day, with no time).\ndatetime-local: (ie) A control for entering a date and time, with no time zone.\nemail: \t\t\tA field for editing an e-mail address.\nmonth: \t\t\t(ie) A control for entering a month and year, with no time zone.\nnumber: \t\tA control for entering a number.\nrange: \t\t\tA control for entering a number whose exact value is not important.\nsearch: \t\tA single-line text field for entering search strings. Line-breaks are automatically removed from the input value.\ntel: \t\t\tA control for entering a telephone number.\ntime: \t\t\t(ie) A control for entering a time value with no time zone.\nurl: \t\t\tA field for entering a URL.\nweek: \t\t\t(ie) A control for entering a date consisting of a week-year number and a week number with no time zone.\n\nATTRIBUTES\nautocomplete\tA string indicating the type of autocomplete functionality, if any, to allow on the input\nautofocus\t\tA Boolean which, if present, makes the input take focus when the form is presented\ndisabled\t\tA Boolean attribute which is present if the input should be disabled\nform\t\t\tThe id of the <form> of which the input is a member; if absent, the input is a member of the nearest containing form, or is not a member of a form at all\nlist\t\t\tThe id of a <datalist> element that provides a list of suggested values for the input\nname\t\t\tThe input's name, to identify the input in the data submitted with the form's data\nreadonly\t\tA Boolean attribute which, if true, indicates that the input cannot be edited\nrequired\t\tA Boolean which, if true, indicates that the input must have a value before the form can be submitted\ntabindex\t\tA numeric value providing guidance to the user agent as to the order in which controls receive focus when the user presses the Tab key\ntype\t\t\tA string indicating which input type the <input> element represents\nvalue\t\t\tThe input's current value\n\n*/\n","import { Component, getContext } from 'rxcomp';\nimport { FormAttributes } from './models/form-status';\n\nexport default class FormGroupComponent extends Component {\n\n\tget form() {\n\t\t// console.log('FormGroupComponent', (this.formGroupName ? `formGroupName ${this.formGroupName}` : `formGroup ${this.formGroup}`));\n\t\tif (this.formGroup) {\n\t\t\treturn this.formGroup;\n\t\t} else {\n\t\t\tconst { parentInstance } = getContext(this);\n\t\t\tif (!parentInstance.form) {\n\t\t\t\tthrow ('missing form');\n\t\t\t}\n\t\t\treturn parentInstance.form.get(this.formGroupName);\n\t\t}\n\t}\n\n\tonChanges(changes) {\n\t\tconst { node } = getContext(this);\n\t\tconst form = this.form;\n\t\tFormAttributes.forEach(x => {\n\t\t\tif (form[x]) {\n\t\t\t\tnode.classList.add(x);\n\t\t\t} else {\n\t\t\t\tnode.classList.remove(x);\n\t\t\t}\n\t\t});\n\t}\n\n}\n\nFormGroupComponent.meta = {\n\tselector: '[[formGroup]],[[formGroupName]],[formGroupName]',\n\tinputs: ['formGroup', 'formGroupName'],\n};\n","import { Module } from 'rxcomp';\nimport FormPlaceholderDirective from './form/directives/form-placeholder.directive';\nimport FormSubmitDirective from './form/directives/form-submit.directive';\nimport FormValueDirective from './form/directives/form-value.directive';\nimport FormArrayComponent from './form/form-array.component';\nimport FormControlGroupComponent from './form/form-control-group.component';\nimport FormControlDirective from './form/form-control.directive';\nimport FormGroupComponent from './form/form-group.component';\n\nexport default class FormModule extends Module {}\nconst factories = [\n\tFormArrayComponent,\n\tFormControlDirective,\n\tFormControlGroupComponent,\n\tFormGroupComponent,\n\tFormPlaceholderDirective,\n\tFormValueDirective,\n\tFormSubmitDirective,\n];\nconst pipes = [\n];\nFormModule.meta = {\n\tdeclarations: [\n\t\t...factories,\n\t\t...pipes,\n\t],\n\texports: [\n\t\t...factories,\n\t\t...pipes,\n\t]\n};\n","import { BehaviorSubject, merge, Subject } from \"rxjs\";\nimport { distinctUntilChanged, map, shareReplay, skip, tap } from 'rxjs/operators';\nimport FormStatus from './models/form-status';\n\nexport default class FormAbstract {\n\tconstructor(validators = []) {\n\t\tthis.status = FormStatus.Pending;\n\t\tthis.validators = validators;\n\t\t// this.errors = {};\n\t\tthis.errors = [];\n\t}\n\n\tinitSubjects_() {\n\t\tthis.valueSubject = new BehaviorSubject(null);\n\t\tthis.valueChildren = new Subject();\n\t\tthis.statusSubject = new BehaviorSubject(this);\n\t\tthis.statusChildren = new Subject();\n\t}\n\n\tinitObservables_() {\n\t\tthis.value$ = merge(this.valueSubject, this.valueChildren).pipe(\n\t\t\tdistinctUntilChanged(),\n\t\t\tskip(1),\n\t\t\ttap(any => {\n\t\t\t\tthis.submitted_ = false;\n\t\t\t\tthis.dirty_ = true;\n\t\t\t\tthis.statusSubject.next(this);\n\t\t\t}),\n\t\t\tshareReplay(1)\n\t\t);\n\t\tthis.status$ = merge(this.statusSubject, this.statusChildren).pipe(\n\t\t\t// auditTime(1),\n\t\t\ttap(any => {\n\t\t\t\tthis.reduceValidators_();\n\t\t\t}),\n\t\t\tshareReplay(1)\n\t\t);\n\t\tthis.changes$ = merge(this.value$, this.status$).pipe(\n\t\t\tmap(any => this.value),\n\t\t\tshareReplay(1)\n\t\t);\n\t}\n\n\treduceValidators_() {\n\t\treturn this.validate(this.value);\n\t}\n\n\tvalidate(value) {\n\t\tif (this.status === FormStatus.Disabled || this.submitted_) {\n\t\t\t// this.errors = {};\n\t\t\tthis.errors = [];\n\t\t} else {\n\t\t\t// this.errors = Object.assign({}, ...this.validators.map(x => x(value)));\n\t\t\t// this.status = Object.keys(this.errors).length === 0 ? FormStatus.Valid : FormStatus.Invalid;\n\t\t\tthis.errors = this.validators.map(x => x(value)).filter(x => x !== null);\n\t\t\tthis.status = this.errors.length === 0 ? FormStatus.Valid : FormStatus.Invalid;\n\t\t}\n\t\treturn this.errors;\n\t}\n\n\tget pending() { return this.status === FormStatus.Pending; }\n\tget valid() { return this.status === FormStatus.Valid; }\n\tget invalid() { return this.status === FormStatus.Invalid; }\n\tget disabled() { return this.status === FormStatus.Disabled; }\n\tget enabled() { return this.status !== FormStatus.Disabled; }\n\tget submitted() { return this.submitted_; }\n\tget dirty() { return this.dirty_; }\n\tget pristine() { return !this.dirty_; }\n\tget touched() { return this.touched_; }\n\tget untouched() { return !this.touched_; }\n\n\tset disabled(disabled) {\n\t\tif (disabled) {\n\t\t\tthis.status = FormStatus.Disabled;\n\t\t} else {\n\t\t\tthis.reduceValidators_();\n\t\t}\n\t\tthis.statusSubject.next(this);\n\t}\n\n\tset submitted(submitted) {\n\t\tthis.submitted_ = submitted;\n\t\tthis.statusSubject.next(this);\n\t}\n\n\tset touched(touched) {\n\t\tthis.touched_ = touched;\n\t\tthis.statusSubject.next(this);\n\t}\n\n\tget value() { return this.value_; }\n\n\tset value(value) {\n\t\t// console.log('set value', value);\n\t\tthis.value_ = value;\n\t\tthis.valueSubject.next(value);\n\t}\n\n\treset() {\n\t\tthis.status = FormStatus.Pending;\n\t\tthis.value_ = null;\n\t\tthis.dirty_ = false;\n\t\tthis.touched_ = false;\n\t\tthis.submitted_ = false;\n\t\tthis.statusSubject.next(this);\n\t}\n\n\tpatch(value) {\n\t\tthis.value_ = value;\n\t\tthis.dirty_ = true;\n\t\tthis.submitted_ = false;\n\t\tthis.statusSubject.next(this);\n\t}\n\n}\n","import FormAbstract from \"./form-abstract\";\n\nexport default class FormControl extends FormAbstract {\n\n\tconstructor(value = null, validators) {\n\t\tsuper(validators);\n\t\tthis.value_ = value;\n\t\tthis.initSubjects_();\n\t\tthis.initObservables_();\n\t\tthis.statusSubject.next(this);\n\t}\n\n}\n\nexport function formControl(value, validators) {\n\treturn new FormControl(value, validators);\n}\n","import { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, shareReplay, switchAll } from 'rxjs/operators';\nimport FormAbstract from './form-abstract';\nimport FormControl from './form-control';\nimport FormStatus from './models/form-status';\n\nexport default class FormAbstractCollection extends FormAbstract {\n\n\tconstructor(controls, validators) {\n\t\tsuper(validators);\n\t\tthis.controls = controls;\n\t\tthis.initControls_(controls);\n\t\tthis.initSubjects_();\n\t\tthis.initObservables_();\n\t\t// this.statusSubject.next(this);\n\t}\n\n\tinitControl_(control) {\n\t\treturn control instanceof FormAbstract ? control : new FormControl(control, this.validators);\n\t}\n\n\tinitControls_(controls) {\n\t\tthis.forEach_((control, key) => {\n\t\t\tthis.init(control, key);\n\t\t});\n\t\treturn controls;\n\t}\n\n\tinitSubjects_() {\n\t\t/*\n\t\tthis.valueSubject = new BehaviorSubject(null);\n\t\tconst valueChildren = this.reduce_((result, control) => {\n\t\t\tresult.push(control.value$);\n\t\t\treturn result;\n\t\t}, []);\n\t\tthis.valueChildren = combineLatest(valueChildren).pipe(\n\t\t\tmap(latest => this.value),\n\t\t\tshareReplay(1)\n\t\t);\n\t\tthis.statusSubject = new BehaviorSubject(this);\n\t\tconst statusChildren = this.reduce_((result, control) => {\n\t\t\tresult.push(control.status$);\n\t\t\treturn result;\n\t\t}, []);\n\t\tthis.statusChildren = combineLatest(statusChildren).pipe(\n\t\t\tshareReplay(1)\n\t\t);\n\t\t*/\n\t\t/*\n\t\tconst changesChildren = this.reduce_((result, control) => {\n\t\t\tresult.push(control.changes$);\n\t\t\treturn result;\n\t\t}, []);\n\t\tthis.changesChildren = combineLatest(changesChildren).pipe(\n\t\t\tshareReplay(1)\n\t\t);\n\t\t*/\n\t\tthis.changesChildren = new BehaviorSubject().pipe(\n\t\t\tswitchAll()\n\t\t);\n\t\tthis.switchSubjects_();\n\t}\n\n\tswitchSubjects_() {\n\t\tconst changesChildren = this.reduce_((result, control) => {\n\t\t\tresult.push(control.changes$);\n\t\t\treturn result;\n\t\t}, []);\n\t\tthis.changesChildren.next(combineLatest(changesChildren));\n\t}\n\n\tinitObservables_() {\n\t\t/*\n\t\tthis.value$ = merge(this.valueSubject, this.valueChildren).pipe(\n\t\t\tdistinctUntilChanged(),\n\t\t\tskip(1),\n\t\t\ttap(any => {\n\t\t\t\tthis.statusSubject.next(this);\n\t\t\t}),\n\t\t\tshareReplay(1)\n\t\t);\n\t\tthis.status$ = merge(this.statusSubject, this.statusChildren).pipe(\n\t\t\ttap(any => {\n\t\t\t\tthis.reduceValidators_();\n\t\t\t}),\n\t\t\tshareReplay(1)\n\t\t);\n\t\t*/\n\t\tthis.changes$ = this.changesChildren.pipe(\n\t\t\tmap(any => this.value),\n\t\t\tshareReplay(1)\n\t\t);\n\t}\n\n\tvalidate(value) {\n\t\tif (this.status === FormStatus.Disabled) {\n\t\t\t// this.errors = {};\n\t\t\tthis.errors = [];\n\t\t} else {\n\t\t\t// this.errors = Object.assign({}, ...this.validators.map(x => x(value)));\n\t\t\t// this.status = Object.keys(this.errors).length === 0 ? FormStatus.Valid : FormStatus.Invalid;\n\t\t\tlet errors = this.validators.map(x => x(value)).filter(x => x !== null);\n\t\t\tthis.errors = this.reduce_((result, control) => {\n\t\t\t\treturn result.concat(control.errors);\n\t\t\t}, errors);\n\t\t\tthis.status = this.errors.length === 0 ? FormStatus.Valid : FormStatus.Invalid;\n\t\t}\n\t\treturn this.errors;\n\t}\n\n\tforEach_(callback) {\n\t\tObject.keys(this.controls).forEach(key => callback(this.controls[key], key));\n\t}\n\n\treduce_(callback, result) {\n\t\tthis.forEach_((control, key) => {\n\t\t\tresult = callback(result, control, key);\n\t\t});\n\t\treturn result;\n\t}\n\n\tall_(key, value) {\n\t\treturn this.reduce_((result, control) => {\n\t\t\treturn result && control[key] === value;\n\t\t}, true);\n\t}\n\n\tany_(key, value) {\n\t\treturn this.reduce_((result, control) => {\n\t\t\treturn result || control[key] === value;\n\t\t}, false);\n\t}\n\n\tget valid() { return this.all_('valid', true); }\n\tget invalid() { return this.any_('invalid', true); }\n\tget pending() { return this.any_('pending', true); }\n\tget disabled() { return this.all_('disabled', true); }\n\tget enabled() { return this.any_('enabled', true); }\n\tget submitted() { return this.all_('submitted', true); }\n\tget dirty() { return this.any_('dirty', true); }\n\tget pristine() { return this.all_('pristine', true); }\n\tget touched() { return this.all_('touched', true); }\n\tget untouched() { return this.any_('untouched', true); }\n\n\tset disabled(disabled) {\n\t\tthis.forEach_(control => {\n\t\t\tcontrol.disabled = disabled;\n\t\t});\n\t}\n\n\tset submitted(submitted) {\n\t\tthis.forEach_(control => {\n\t\t\tcontrol.submitted = submitted;\n\t\t});\n\t}\n\n\tset touched(touched) {\n\t\tthis.forEach_(control => {\n\t\t\tcontrol.touched = touched;\n\t\t});\n\t}\n\n\tget value() {\n\t\treturn this.reduce_((result, control, key) => {\n\t\t\tresult[key] = control.value;\n\t\t\treturn result;\n\t\t}, {});\n\t}\n\n\tset value(value) {\n\t\tthis.forEach_((control, key) => {\n\t\t\tcontrol.value = value[key];\n\t\t});\n\t}\n\n\treset() {\n\t\tthis.forEach_(control => control.reset());\n\t}\n\n\tpatch(value) {\n\t\tthis.forEach_((control, key) => control.patch(value[key]));\n\t}\n\n\tinit(control, key) {\n\t\tthis.controls[key] = this.initControl_(control);\n\t}\n\n\tget(key) {\n\t\treturn this.controls[key];\n\t}\n\n\tset(control, key) {\n\t\tdelete(this.controls[key]);\n\t\tthis.controls[key] = this.initControl_(control);\n\t\tthis.switchSubjects_();\n\t}\n\n\t// !!! needed?\n\tadd(control, key) {\n\t\tthis.controls[key] = this.initControl_(control);\n\t\tthis.switchSubjects_();\n\t}\n\n\tremove(control) {\n\t\tconst key = Object.keys(this.controls).find(key => this.controls[key] === control ? key : null);\n\t\tif (key) {\n\t\t\tthis.removeKey(key);\n\t\t}\n\t}\n\n\tremoveKey(key) {\n\t\tconst changed = this.controls[key] !== undefined;\n\t\tdelete(this.controls[key]);\n\t\tif (changed) {\n\t\t\tthis.switchSubjects_();\n\t\t}\n\t}\n\n}\n","import FormAbstractCollection from './form-abstract-collection';\n\nexport default class FormArray extends FormAbstractCollection {\n\n\tconstructor(controls = [], validators) {\n\t\tsuper(controls, validators);\n\t}\n\n\tforEach_(callback) {\n\t\tthis.controls.forEach((control, key) => callback(control, key));\n\t}\n\n\tget value() {\n\t\treturn this.reduce_((result, control, key) => {\n\t\t\tresult[key] = control.value;\n\t\t\treturn result;\n\t\t}, []); // init as array\n\t}\n\n\tget length() {\n\t\treturn this.controls.length;\n\t}\n\n\tinit(control, key) {\n\t\tthis.controls.length = Math.max(this.controls.length, key);\n\t\tthis.controls[key] = this.initControl_(control);\n\t}\n\n\tset(control, key) {\n\t\t// this.controls.length = Math.max(this.controls.length, key);\n\t\t// this.controls[key] = this.initControl_(control);\n\t\tthis.controls.splice(key, 1, this.initControl_(control));\n\t\tthis.switchSubjects_();\n\t}\n\n\t// !!! needed?\n\tadd(control, key) {\n\t\tthis.controls.length = Math.max(this.controls.length, key);\n\t\tthis.controls[key] = this.initControl_(control);\n\t\tthis.switchSubjects_();\n\t}\n\n\tpush(control) {\n\t\t// this.controls.length = Math.max(this.controls.length, key);\n\t\t// this.controls[key] = this.initControl_(control);\n\t\tthis.controls.push(this.initControl_(control));\n\t\tthis.switchSubjects_();\n\t}\n\n\tinsert(control, key) {\n\t\tthis.controls.splice(key, 0, this.initControl_(control));\n\t\tthis.switchSubjects_();\n\t}\n\n\tremove(control) {\n\t\tconst key = this.controls.indexOf(control);\n\t\tif (key !== -1) {\n\t\t\tthis.removeKey(key);\n\t\t}\n\t}\n\n\tremoveKey(key) {\n\t\tif (this.controls[key]) {\n\t\t\tthis.controls.splice(key, 1);\n\t\t\tthis.switchSubjects_();\n\t\t}\n\t}\n\n\tat(key) {\n\t\treturn this.controls[key];\n\t}\n\n}\n\nexport function formArray(controls, validators) {\n\treturn new FormArray(controls, validators);\n}\n","import FormAbstractCollection from './form-abstract-collection';\n\nexport default class FormGroup extends FormAbstractCollection {\n\n\tconstructor(controls = {}, validators) {\n\t\tsuper(controls, validators);\n\t}\n\n}\n\nexport function formGroup(controls, validators) {\n\treturn new FormGroup(controls, validators);\n}\n","export function RequiredValidator(value) {\n\t// return (value == null || value.length === 0) ? { required: true } : null;\n\treturn (value == null || value.length === 0) ? 'required' : null;\n}\n","import { Component } from 'rxcomp';\nimport { FormArray, FormGroup, RequiredValidator } from '../../src/rxcomp-form';\n\nexport default class AppComponent extends Component {\n\n\tonInit() {\n\t\tconst form = new FormGroup({\n\t\t\tfirstName: null, // 'Jhon',\n\t\t\tlastName: null, // 'Appleseed',\n\t\t\temail: null, // 'jhonappleseed@gmail.com',\n\t\t\tcountry: null,\n\t\t\titems: new FormArray([null, null, null], [RequiredValidator]),\n\t\t}, [RequiredValidator]);\n\n\t\tform.changes$.subscribe((changes) => {\n\t\t\tconsole.log('AppComponent.form.changes$', changes, form.valid);\n\t\t\tthis.pushChanges();\n\t\t});\n\n\t\tthis.form = form;\n\t}\n\n\tonValidate() {\n\t\t// console.log('AppComponent.onValidate', this.form.valid);\n\t\treturn this.form.valid;\n\t}\n\n\tonSubmit() {\n\t\tif (this.form.valid) {\n\t\t\tconsole.log('AppComponent.onSubmit', this.form.value);\n\t\t\tthis.form.submitted = true;\n\t\t\t// this.form.reset();\n\t\t}\n\t}\n\n}\n\nAppComponent.meta = {\n\tselector: '[app-component]',\n};\n","import { CoreModule, Module } from 'rxcomp';\nimport { FormModule } from '../../src/rxcomp-form';\nimport AppComponent from './app.component';\n\nexport default class AppModule extends Module {}\n\nAppModule.meta = {\n\timports: [\n\t\tCoreModule,\n\t\tFormModule\n\t],\n\tdeclarations: [],\n\tbootstrap: AppComponent,\n};\n","import { Browser } from 'rxcomp';\nimport AppModule from './app.module';\n\nBrowser.bootstrap(AppModule);\n"]}