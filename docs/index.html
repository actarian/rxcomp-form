<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
	<base href="/rxcomp-form/">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	<meta name="Content-Language" content="it" />
	<meta name="robots" content="noindex,nofollow" />
	<title>RxComp Form</title>
	<script>
		(function(w, d, s, l, i) {
			w[l] = w[l] || [];
			w[l].push({
				'gtm.start': new Date().getTime(),
				event: 'gtm.js'
			});
			var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s),
				dl = l != 'dataLayer' ? '&l=' + l : '';
			j.async = true;
			j.src =
				'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
			f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-WL42JM2');

	</script>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:800&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/main.min.css" />
</head>

<body class="page--test">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WL42JM2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<main app-component>
		<div class="header">
			<a href="https://github.com/actarian/rxcomp" target="_blank" class="brand">RxComp</a>
			<a href="https://twitter.com/actarian" target="_blank" class="btn--twitter">
				<i class="icon--twitter"></i>
			</a>
			<a href="https://github.com/actarian/rxcomp" target="_blank" class="btn--github">
				<i class="icon--github"></i>
			</a>
		</div>
		<!-- (submit) parentInstance should be app-component -->
		<form [formGroup]="form" (submit)="onSubmit()" name="form" role="form" novalidate autocomplete="off">
			<fieldset>
				<!-- <div class="group--form" [formField]="form.get('firstName')"> -->
				<div class="group--form">
					<i class="icon--remove" [class]="{ active: form.get('firstName').dirty }" (click)="form.get('firstName').reset()"></i>
					<input type="text" class="control--text" formControlName="firstName" placeholder="firstName" name="firstName" required minlength="20" />
					<i class="icon--check"></i>
				</div>
				<div class="group--form" [formFieldName]="'lastName'">
					<i class="icon--remove" (click)="control.reset()"></i>
					<input type="text" class="control--text" [formControl]="control" placeholder="lastName" name="lastName" />
					<i class="icon--check"></i>
				</div>
				<div class="group--form" [formField]="form.get('email')">
					<i class="icon--remove" (click)="control.reset()"></i>
					<input type="email" class="control--text" [formControl]="control" placeholder="email" name="email" pattern="[A-Za-z]{3}" title="Three letter country code" />
					<i class="icon--check"></i>
				</div>
				<div class="group--form group--form--select" formFieldName="country">
					<select class="control--select" [formControl]="control">
						<option value="">select</option>
						<option value="en-US">English</option>
						<option value="it-IT">Italiano</option>
					</select>
					<i class="icon--chevron-down"></i>
				</div>
				<div class="group--form group--radio" [formField]="form.get('evaluate')">
					<label><input type="radio" class="control--radio" [formControl]="control" name="evaluate" value="free" /><span>free</span></label>
					<label><input type="radio" class="control--radio" [formControl]="control" name="evaluate" value="pro" /><span>pro</span></label>
					<label><input type="radio" class="control--radio" [formControl]="control" name="evaluate" value="enterprise" /><span>enterprise</span></label>
				</div>
				<div class="group--form group--checkbox" formFieldName="privacy">
					<label><input type="checkbox" class="control--checkbox" [formControl]="control" [value]="true" /><span>accept privacy</span></label>
				</div>
				<div class="group--form" *for="let item of form.get('items').controls">
					<i class="icon--remove active" (click)="form.get('items').remove(item)"></i>
					<input type="text" class="control--text" [formControl]="item" [placeholder]="'item-' + index" />
				</div>
			</fieldset>
			<div class="group--form">
				<button type="button" class="btn--add" (click)="form.get('items').push()">
					<span>Add Item</span>
				</button>
			</div>
			<div class="group--form">
				<button type="submit" class="btn--submit">
					<span *if="!form.submitted">Send</span>
					<span *if="form.submitted">Sent!</span>
				</button>
			</div>
			<div class="group--form group--form--fixed">
				<code [innerHTML]="form.value | json"></code>
			</div>
		</form>
	</main>
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es5%2CArray.prototype.find%2CObject.assign"></script>
	<script src="https://unpkg.com/@reactivex/rxjs@6.5.3/dist/global/rxjs.umd.min.js"></script>
	<script src="https://unpkg.com/rxcomp@1.0.0-alpha.11/dist/rxcomp.min.js"></script>
	<script src="js/main.min.js"></script>
</body>

</html>
